# Dockerfile para desenvolvimento local
FROM eclipse-temurin:21-jdk-alpine

# Instalar dependências
RUN apk add --no-cache curl bash

WORKDIR /app

# Copiar arquivos de configuração
COPY gradle/ gradle/
COPY gradlew .
COPY gradle.properties .
COPY build.gradle .
COPY settings.gradle .

# Garantir permissão de execução
RUN chmod +x gradlew

# Copiar código fonte
COPY src/ src/

# Expor porta
EXPOSE 8080

# Comando para desenvolvimento (com hot reload)
CMD ["./gradlew", "bootRun", "--args='--spring.profiles.active=dev'"]